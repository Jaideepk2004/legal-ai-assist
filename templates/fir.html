<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css/fir.css">
    <title>Format of the F.I.R.</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
</head>
<style>
    
body {
    font-family: 'Calibri', Arial, sans-serif;
    background-color: #ffffcc; /* Light yellow background */
    margin: 0;
    padding: 20px;
    color: #003366;
}
.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    background-color: #fffef2;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    border: 1px solid #e0deb8;
}
h1 {
    text-align: center;
    color: #003366; /* Dark blue color */
    margin-bottom: 30px;
    padding-bottom: 10px;
    border-bottom: 2px solid #003366;
    font-size: 24px;
}
.form-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
    align-items: center;
}

.form-title {
    text-align: center;
    font-weight: bold;
    margin-bottom: 20px;
    font-size: 1.3em;
    color: #003366;
    text-transform: uppercase;
    letter-spacing: 1px;
}
.form-subtitle {
    text-align: center;
    margin-bottom: 25px;
    font-style: italic;
    border-bottom: 1px dotted #aaa;
    padding-bottom: 15px;
    color: #333;
}
.form-field {
    margin-bottom: 20px;
    position: relative;
}
.form-field label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: #003366;
}
.form-field input[type="text"] {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
    transition: all 0.3s ease;
}
.form-field .line-input {
    width: 100%;
    border: none;
    border-bottom: 1px solid #003366;
    background-color: transparent;
    padding: 8px 0;
    font-size: 16px;
    transition: all 0.3s ease;
}
.form-field .line-input:focus {
    border-bottom: 2px solid #003366;
    outline: none;
    background-color: rgba(255, 255, 204, 0.5);
}
.form-field textarea {
    width: 100%;
    min-height: 100px;
    padding: 10px;
    border: 1px solid #003366;
    border-radius: 4px;
    font-size: 16px;
    resize: vertical;
    background-color: #fffef2;
    font-family: 'Calibri', Arial, sans-serif;
    transition: all 0.3s ease;
}
.form-field textarea:focus {
    outline: none;
    border-color: #0056b3;
    box-shadow: 0 0 5px rgba(0, 86, 179, 0.3);
    background-color: #fffff0;
}
.inline-fields {
    display: flex;
    gap: 10px;
    align-items: center;
}
.note {
    margin-top: 25px;
    padding: 15px;
    border-top: 1px solid #ccc;
    font-size: 0.9em;
    background-color: #fffde8;
    border-radius: 4px;
}
.section-title {
    font-weight: bold;
    text-align: center;
    margin: 30px 0 20px;
    color: #003366;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
}
.section-title:after {
    content: "";
    display: block;
    width: 100px;
    height: 2px;
    background: #003366;
    margin: 8px auto 0;
}
.authentic-info {
    margin-top: 20px;
    text-align: justify;
    font-size: 0.95em;
    line-height: 1.6;
    padding: 15px;
    background-color: #fffde8;
    border-radius: 4px;
    border-left: 3px solid #003366;
}
.label-text {
    font-weight: bold;
    margin-right: 5px;
}
.book-no {
    display: flex;
    align-items: center;
    justify-content: flex-end;
}
/* Added styling for number markers */
.numbered-item {
    position: relative;
    padding-left: 25px;
}
.numbered-item .number {
    position: absolute;
    left: 0;
    top: 0;
    font-weight: bold;
}
.current-date-time {
    color: #003366;
    font-weight: bold;
}
.button-container {
    text-align: center;
    margin-top: 30px;
}

.button-container {
    display: flex;
    justify-content: center;
    margin-top: 30px;
}

.button-link {
    display: inline-block;
    padding: 10px 20px;
    background-color: #4CAF50; /* Green color */
    color: white;
    text-align: center;
    text-decoration: none;
    font-size: 16px;
    border-radius: 8px;
    transition: background-color 0.3s, transform 0.2s;
    box-shadow: 0 4px 6px rgba(0,0,0,0.2);
}

.button-link:hover {
    background-color: #45a049; /* Darker green */
    transform: scale(1.05);
}

</style>
<body>
 <div id="firContent">
    <div class="container">
        <h1>Format of the F.I.R.</h1>
        
        <div class="form-header">
            <div></div>
            <div class="book-no">
                <span class="label-text">FIR No.</span>
                <input type="text" class="line-input" style="width: 200px;" value="{{ data.fir_no }}" readonly>
            </div>
        </div>
        <div class="form-title">First Information Report</div>
        <div class="form-subtitle">First Information of a Cognizable Crime Reported under Section 154, Criminal Penal Code</div>
        
        <div class="form-field inline-fields">
            <span class="label-text">Police Station</span>
            <input type="text" class="line-input" style="width: 35%;" value="{{ data.police_station }}" readonly>
            <span class="label-text">District</span>
            <input type="text" class="line-input" style="width: 35%;" value="{{ data.district }}" readonly>
            <span class="label-text">No</span>
            <input type="text" class="line-input" style="width: 15%;" value="{{ data.station_no }}" readonly>
        </div>
        
        <div class="form-field inline-fields">
            <span class="label-text">Date and hour of Occurrence</span>
            <input type="text" class="line-input" style="width: 70%;" value="{{ data.occurrence_datetime }}" readonly>
        </div>
        
        <div class="form-field numbered-item">
            <span class="number">1.</span>
            <label>Date and hour when reported</label>
            <input type="text" id="currentDateTime" class="line-input current-date-time" readonly>
        </div>
        
        <div class="form-field numbered-item">
            <span class="number">2.</span>
            <label>Name and residence of informer and complainant.</label>
            <input type="text" class="line-input" value="{{ data.informer_details }}" readonly>
        </div>
        
        <div class="form-field numbered-item">
            <span class="number">3.</span>
            <label>Brief description of offence (with section) and of property carried off, if any.</label>
            <textarea id="offenceDescription" rows="5" readonly>{{ data.criminal_details}}</textarea>
            <div class="char-counter"><span id="charCount">0</span> characters</div>
        </div> 
        <div class="form-field numbered-item">
            <span class="number">4.</span>
            <label>Place of occurrence and distance and direction from the Police Station.</label>
            <input type="text" class="line-input" value="{{ data.place_of_occurrence }}" readonly>
        </div>
        
        <div class="form-field numbered-item">
            <span class="number">5.</span>
            <label>Name & Address of the Criminal.</label>
            <input type="text" class="line-input" value="{{ data.criminal_details }}" readonly>
        </div>
        
        <div class="form-field numbered-item">
            <span class="number">6.</span>
            <label>Steps taken regarding investigation explanation of delay in regarding information.</label>
            <input type="text" class="line-input" value="{{ data.investigation_steps }}" readonly>
        </div>
        
        <div class="form-field numbered-item">
            <span class="number">7.</span>
            <label>Date and Time of despatch from Police Station.</label>
            <input type="text" class="line-input" value="{{ data.despatch_datetime }}" readonly>
        </div>
        
        <div class="form-field inline-fields">
            <span class="label-text">Signature</span>
            <input type="text" class="line-input" style="width: 70%;">
        </div>
        
        <div class="form-field inline-fields">
            <span class="label-text">Designation</span>
            <input type="text" class="line-input" style="width: 70%;" value="{{ data.designation }}" readonly>
        </div>
        
        <div class="note">
            (First information to be recorded below)
        </div>
        
        <div class="note">
            <strong>NOTE:-</strong> The signature of seal or thumb impression of the informer should be at the end of the information and the signature of the Writer of (FIR) should be existed as usual.
        </div>
        
        <div class="note">
            The above is the format and below is the law on the basis of which the cognizable crime is recorded
        </div>
        
        <div class="section-title">F.I.R. ON AUTHENTIC INFORMATION</div>
        
        <div class="authentic-info">
            The information given to the Police Officer for registration of a case must be authentic. It should not be gossip but should be traced to an individual who should be responsible for spreading information. It may be hearsay but the person in possession of hearsay should mention the source of information and take responsibility for it. An irresponsible rumour should not result in registration of F.I.R.
        </div>
    </div>
 </div>
    <div class="button-container">
        <button onclick="downloadFIR()" class="button-link" download="">Download FIR</button>
    </div>
    <script>
        // Set current date and time in the "Date and hour when reported" field
        function setCurrentDateTime() {
            const now = new Date();
            
            // Format the date and time
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit', 
                minute: '2-digit',
                hour12: true
            };
            
            const formattedDateTime = now.toLocaleDateString('en-US', options);
            document.getElementById('currentDateTime').value = formattedDateTime;
        }

        // Make all input fields automatically expand as you type
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date and time when the page loads
            setCurrentDateTime();
            
            const inputs = document.querySelectorAll('input[type="text"], .line-input:not(#currentDateTime)');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.style.backgroundColor = "#ffffdd";
                    this.style.boxShadow = "0 2px 4px rgba(0, 0, 0, 0.1)";
                });
                
                input.addEventListener('blur', function() {
                    this.style.backgroundColor = "transparent";
                    this.style.boxShadow = "none";
                });
            });
        });
        function downloadFIR() {
            var element = document.getElementById('firContent');
            html2pdf().from(element).save('fir.pdf');
        }
    </script>
</body>
</html>